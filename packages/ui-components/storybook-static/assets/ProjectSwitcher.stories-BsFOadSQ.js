import{j as i}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-DhY--VwN.js";import{c as N}from"./utils-CDN07tui.js";import{c as St,B as kt}from"./button-CSBTRrdr.js";import{R as Rt,P as Nt,O as Et,C as At,b as tt}from"./index-CO7ovZMe.js";import"./index-CE4oAmmT.js";import{b as D,a as It,c as _t,d as rt,e as G,P as Ot,h as Mt,R as Dt,f as Ft,g as $t,F as qt,D as Tt}from"./index-BG3m2RIl.js";import{c as H,u as nt}from"./index-BnZ-dH4k.js";import{S as Lt}from"./search-DgDFmbNv.js";import{c as ot,R as Vt,A as at,C as zt,a as Kt,L as De}from"./index-D4jms2TP.js";import{S as Gt}from"./skeleton-_T1otFf0.js";import{P as fe}from"./project-avatar-DrLaUvcG.js";import{c as we}from"./createLucideIcon-CmAQLPQa.js";import{S as Bt}from"./star-CZ-Ja2Kk.js";import"./index-C2vczdB5.js";import"./index-BoxsY6nR.js";import"./color-utils-Cz1Ld1cb.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Ut=we("chevrons-up-down",Ht);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jt=we("plus",Wt);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yt=we("settings",Xt);var Fe=1,Zt=.9,Qt=.8,er=.17,me=.1,ve=.999,tr=.9999,rr=.99,nr=/[\\\/_+.#"@\[\(\{&]/,or=/[\\\/_+.#"@\[\(\{&]/g,ar=/[\s-]/,st=/[\s-]/g;function he(e,r,t,l,a,s,c){if(s===r.length)return a===e.length?Fe:rr;var d=`${a},${s}`;if(c[d]!==void 0)return c[d];for(var p=l.charAt(s),u=t.indexOf(p,a),v=0,x,j,g,R;u>=0;)x=he(e,r,t,l,u+1,s+1,c),x>v&&(u===a?x*=Fe:nr.test(e.charAt(u-1))?(x*=Qt,g=e.slice(a,u-1).match(or),g&&a>0&&(x*=Math.pow(ve,g.length))):ar.test(e.charAt(u-1))?(x*=Zt,R=e.slice(a,u-1).match(st),R&&a>0&&(x*=Math.pow(ve,R.length))):(x*=er,a>0&&(x*=Math.pow(ve,u-a))),e.charAt(u)!==r.charAt(s)&&(x*=tr)),(x<me&&t.charAt(u-1)===l.charAt(s+1)||l.charAt(s+1)===l.charAt(s)&&t.charAt(u-1)!==l.charAt(s))&&(j=he(e,r,t,l,u+1,s+2,c),j*me>x&&(x=j*me)),x>v&&(v=x),u=t.indexOf(p,u+1);return c[d]=v,v}function $e(e){return e.toLowerCase().replace(st," ")}function sr(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,he(e,r,$e(e),$e(r),0,0,{})}var ir=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],I=ir.reduce((e,r)=>{const t=St(`Primitive.${r}`),l=o.forwardRef((a,s)=>{const{asChild:c,...d}=a,p=c?t:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...d,ref:s})});return l.displayName=`Primitive.${r}`,{...e,[r]:l}},{}),K='[cmdk-group=""]',ge='[cmdk-group-items=""]',lr='[cmdk-group-heading=""]',it='[cmdk-item=""]',qe=`${it}:not([aria-disabled="true"])`,xe="cmdk-item-select",T="data-value",cr=(e,r,t)=>sr(e,r,t),lt=o.createContext(void 0),U=()=>o.useContext(lt),ct=o.createContext(void 0),ye=()=>o.useContext(ct),dt=o.createContext(void 0),ut=o.forwardRef((e,r)=>{let t=L(()=>{var n,m;return{search:"",value:(m=(n=e.value)!=null?n:e.defaultValue)!=null?m:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),l=L(()=>new Set),a=L(()=>new Map),s=L(()=>new Map),c=L(()=>new Set),d=pt(e),{label:p,children:u,value:v,onValueChange:x,filter:j,shouldFilter:g,loop:R,disablePointerSelection:oe=!1,vimBindings:O=!0,...J}=e,ae=D(),Ne=D(),se=D(),M=o.useRef(null),C=yr();F(()=>{if(v!==void 0){let n=v.trim();t.current.value=n,b.emit()}},[v]),F(()=>{C(6,Ae)},[]);let b=o.useMemo(()=>({subscribe:n=>(c.current.add(n),()=>c.current.delete(n)),snapshot:()=>t.current,setState:(n,m,h)=>{var f,w,y,k;if(!Object.is(t.current[n],m)){if(t.current[n]=m,n==="search")de(),le(),C(1,ce);else if(n==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let P=document.getElementById(se);P?P.focus():(f=document.getElementById(ae))==null||f.focus()}if(C(7,()=>{var P;t.current.selectedItemId=(P=q())==null?void 0:P.id,b.emit()}),h||C(5,Ae),((w=d.current)==null?void 0:w.value)!==void 0){let P=m??"";(k=(y=d.current).onValueChange)==null||k.call(y,P);return}}b.emit()}},emit:()=>{c.current.forEach(n=>n())}}),[]),ie=o.useMemo(()=>({value:(n,m,h)=>{var f;m!==((f=s.current.get(n))==null?void 0:f.value)&&(s.current.set(n,{value:m,keywords:h}),t.current.filtered.items.set(n,Ee(m,h)),C(2,()=>{le(),b.emit()}))},item:(n,m)=>(l.current.add(n),m&&(a.current.has(m)?a.current.get(m).add(n):a.current.set(m,new Set([n]))),C(3,()=>{de(),le(),t.current.value||ce(),b.emit()}),()=>{s.current.delete(n),l.current.delete(n),t.current.filtered.items.delete(n);let h=q();C(4,()=>{de(),(h==null?void 0:h.getAttribute("id"))===n&&ce(),b.emit()})}),group:n=>(a.current.has(n)||a.current.set(n,new Set),()=>{s.current.delete(n),a.current.delete(n)}),filter:()=>d.current.shouldFilter,label:p||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:ae,inputId:se,labelId:Ne,listInnerRef:M}),[]);function Ee(n,m){var h,f;let w=(f=(h=d.current)==null?void 0:h.filter)!=null?f:cr;return n?w(n,t.current.search,m):0}function le(){if(!t.current.search||d.current.shouldFilter===!1)return;let n=t.current.filtered.items,m=[];t.current.filtered.groups.forEach(f=>{let w=a.current.get(f),y=0;w.forEach(k=>{let P=n.get(k);y=Math.max(P,y)}),m.push([f,y])});let h=M.current;z().sort((f,w)=>{var y,k;let P=f.getAttribute("id"),X=w.getAttribute("id");return((y=n.get(X))!=null?y:0)-((k=n.get(P))!=null?k:0)}).forEach(f=>{let w=f.closest(ge);w?w.appendChild(f.parentElement===w?f:f.closest(`${ge} > *`)):h.appendChild(f.parentElement===h?f:f.closest(`${ge} > *`))}),m.sort((f,w)=>w[1]-f[1]).forEach(f=>{var w;let y=(w=M.current)==null?void 0:w.querySelector(`${K}[${T}="${encodeURIComponent(f[0])}"]`);y==null||y.parentElement.appendChild(y)})}function ce(){let n=z().find(h=>h.getAttribute("aria-disabled")!=="true"),m=n==null?void 0:n.getAttribute(T);b.setState("value",m||void 0)}function de(){var n,m,h,f;if(!t.current.search||d.current.shouldFilter===!1){t.current.filtered.count=l.current.size;return}t.current.filtered.groups=new Set;let w=0;for(let y of l.current){let k=(m=(n=s.current.get(y))==null?void 0:n.value)!=null?m:"",P=(f=(h=s.current.get(y))==null?void 0:h.keywords)!=null?f:[],X=Ee(k,P);t.current.filtered.items.set(y,X),X>0&&w++}for(let[y,k]of a.current)for(let P of k)if(t.current.filtered.items.get(P)>0){t.current.filtered.groups.add(y);break}t.current.filtered.count=w}function Ae(){var n,m,h;let f=q();f&&(((n=f.parentElement)==null?void 0:n.firstChild)===f&&((h=(m=f.closest(K))==null?void 0:m.querySelector(lr))==null||h.scrollIntoView({block:"nearest"})),f.scrollIntoView({block:"nearest"}))}function q(){var n;return(n=M.current)==null?void 0:n.querySelector(`${it}[aria-selected="true"]`)}function z(){var n;return Array.from(((n=M.current)==null?void 0:n.querySelectorAll(qe))||[])}function ue(n){let m=z()[n];m&&b.setState("value",m.getAttribute(T))}function pe(n){var m;let h=q(),f=z(),w=f.findIndex(k=>k===h),y=f[w+n];(m=d.current)!=null&&m.loop&&(y=w+n<0?f[f.length-1]:w+n===f.length?f[0]:f[w+n]),y&&b.setState("value",y.getAttribute(T))}function Ie(n){let m=q(),h=m==null?void 0:m.closest(K),f;for(;h&&!f;)h=n>0?xr(h,K):wr(h,K),f=h==null?void 0:h.querySelector(qe);f?b.setState("value",f.getAttribute(T)):pe(n)}let _e=()=>ue(z().length-1),Oe=n=>{n.preventDefault(),n.metaKey?_e():n.altKey?Ie(1):pe(1)},Me=n=>{n.preventDefault(),n.metaKey?ue(0):n.altKey?Ie(-1):pe(-1)};return o.createElement(I.div,{ref:r,tabIndex:-1,...J,"cmdk-root":"",onKeyDown:n=>{var m;(m=J.onKeyDown)==null||m.call(J,n);let h=n.nativeEvent.isComposing||n.keyCode===229;if(!(n.defaultPrevented||h))switch(n.key){case"n":case"j":{O&&n.ctrlKey&&Oe(n);break}case"ArrowDown":{Oe(n);break}case"p":case"k":{O&&n.ctrlKey&&Me(n);break}case"ArrowUp":{Me(n);break}case"Home":{n.preventDefault(),ue(0);break}case"End":{n.preventDefault(),_e();break}case"Enter":{n.preventDefault();let f=q();if(f){let w=new Event(xe);f.dispatchEvent(w)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:ie.inputId,id:ie.labelId,style:Cr},p),re(e,n=>o.createElement(ct.Provider,{value:b},o.createElement(lt.Provider,{value:ie},n))))}),dr=o.forwardRef((e,r)=>{var t,l;let a=D(),s=o.useRef(null),c=o.useContext(dt),d=U(),p=pt(e),u=(l=(t=p.current)==null?void 0:t.forceMount)!=null?l:c==null?void 0:c.forceMount;F(()=>{if(!u)return d.item(a,c==null?void 0:c.id)},[u]);let v=ft(a,s,[e.value,e.children,s],e.keywords),x=ye(),j=A(C=>C.value&&C.value===v.current),g=A(C=>u||d.filter()===!1?!0:C.search?C.filtered.items.get(a)>0:!0);o.useEffect(()=>{let C=s.current;if(!(!C||e.disabled))return C.addEventListener(xe,R),()=>C.removeEventListener(xe,R)},[g,e.onSelect,e.disabled]);function R(){var C,b;oe(),(b=(C=p.current).onSelect)==null||b.call(C,v.current)}function oe(){x.setState("value",v.current,!0)}if(!g)return null;let{disabled:O,value:J,onSelect:ae,forceMount:Ne,keywords:se,...M}=e;return o.createElement(I.div,{ref:H(s,r),...M,id:a,"cmdk-item":"",role:"option","aria-disabled":!!O,"aria-selected":!!j,"data-disabled":!!O,"data-selected":!!j,onPointerMove:O||d.getDisablePointerSelection()?void 0:oe,onClick:O?void 0:R},e.children)}),ur=o.forwardRef((e,r)=>{let{heading:t,children:l,forceMount:a,...s}=e,c=D(),d=o.useRef(null),p=o.useRef(null),u=D(),v=U(),x=A(g=>a||v.filter()===!1?!0:g.search?g.filtered.groups.has(c):!0);F(()=>v.group(c),[]),ft(c,d,[e.value,e.heading,p]);let j=o.useMemo(()=>({id:c,forceMount:a}),[a]);return o.createElement(I.div,{ref:H(d,r),...s,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},t&&o.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:u},t),re(e,g=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?u:void 0},o.createElement(dt.Provider,{value:j},g))))}),pr=o.forwardRef((e,r)=>{let{alwaysRender:t,...l}=e,a=o.useRef(null),s=A(c=>!c.search);return!t&&!s?null:o.createElement(I.div,{ref:H(a,r),...l,"cmdk-separator":"",role:"separator"})}),fr=o.forwardRef((e,r)=>{let{onValueChange:t,...l}=e,a=e.value!=null,s=ye(),c=A(u=>u.search),d=A(u=>u.selectedItemId),p=U();return o.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),o.createElement(I.input,{ref:r,...l,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":d,id:p.inputId,type:"text",value:a?e.value:c,onChange:u=>{a||s.setState("search",u.target.value),t==null||t(u.target.value)}})}),mr=o.forwardRef((e,r)=>{let{children:t,label:l="Suggestions",...a}=e,s=o.useRef(null),c=o.useRef(null),d=A(u=>u.selectedItemId),p=U();return o.useEffect(()=>{if(c.current&&s.current){let u=c.current,v=s.current,x,j=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let g=u.offsetHeight;v.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return j.observe(u),()=>{cancelAnimationFrame(x),j.unobserve(u)}}},[]),o.createElement(I.div,{ref:H(s,r),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":l,id:p.listId},re(e,u=>o.createElement("div",{ref:H(c,p.listInnerRef),"cmdk-list-sizer":""},u)))}),vr=o.forwardRef((e,r)=>{let{open:t,onOpenChange:l,overlayClassName:a,contentClassName:s,container:c,...d}=e;return o.createElement(Rt,{open:t,onOpenChange:l},o.createElement(Nt,{container:c},o.createElement(Et,{"cmdk-overlay":"",className:a}),o.createElement(At,{"aria-label":e.label,"cmdk-dialog":"",className:s},o.createElement(ut,{ref:r,...d}))))}),gr=o.forwardRef((e,r)=>A(t=>t.filtered.count===0)?o.createElement(I.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),hr=o.forwardRef((e,r)=>{let{progress:t,children:l,label:a="Loading...",...s}=e;return o.createElement(I.div,{ref:r,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},re(e,c=>o.createElement("div",{"aria-hidden":!0},c)))}),S=Object.assign(ut,{List:mr,Item:dr,Input:fr,Group:ur,Separator:pr,Dialog:vr,Empty:gr,Loading:hr});function xr(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function wr(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function pt(e){let r=o.useRef(e);return F(()=>{r.current=e}),r}var F=typeof window>"u"?o.useEffect:o.useLayoutEffect;function L(e){let r=o.useRef();return r.current===void 0&&(r.current=e()),r}function A(e){let r=ye(),t=()=>e(r.snapshot());return o.useSyncExternalStore(r.subscribe,t,t)}function ft(e,r,t,l=[]){let a=o.useRef(),s=U();return F(()=>{var c;let d=(()=>{var u;for(let v of t){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(u=v.current.textContent)==null?void 0:u.trim():a.current}})(),p=l.map(u=>u.trim());s.value(e,d,p),(c=r.current)==null||c.setAttribute(T,d),a.current=d}),a}var yr=()=>{let[e,r]=o.useState(),t=L(()=>new Map);return F(()=>{t.current.forEach(l=>l()),t.current=new Map},[e]),(l,a)=>{t.current.set(l,a),r({})}};function jr(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function re({asChild:e,children:r},t){return e&&o.isValidElement(r)?o.cloneElement(jr(r),{ref:r.ref},t(r.props.children)):t(r)}var Cr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const je=o.forwardRef(({className:e,...r},t)=>i.jsx(S,{ref:t,className:N("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));je.displayName=S.displayName;const Ce=o.forwardRef(({className:e,...r},t)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(Lt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(S.Input,{ref:t,className:N("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));Ce.displayName=S.Input.displayName;const Pe=o.forwardRef(({className:e,...r},t)=>i.jsx(S.List,{ref:t,className:N("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));Pe.displayName=S.List.displayName;const be=o.forwardRef((e,r)=>i.jsx(S.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));be.displayName=S.Empty.displayName;const te=o.forwardRef(({className:e,...r},t)=>i.jsx(S.Group,{ref:t,className:N("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));te.displayName=S.Group.displayName;const Se=o.forwardRef(({className:e,...r},t)=>i.jsx(S.Separator,{ref:t,className:N("-mx-1 h-px bg-border",e),...r}));Se.displayName=S.Separator.displayName;const B=o.forwardRef(({className:e,...r},t)=>i.jsx(S.Item,{ref:t,className:N("relative flex cursor-pointer gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...r}));B.displayName=S.Item.displayName;je.__docgenInfo={description:"",methods:[]};Ce.__docgenInfo={description:"",methods:[]};Pe.__docgenInfo={description:"",methods:[]};be.__docgenInfo={description:"",methods:[]};te.__docgenInfo={description:"",methods:[]};B.__docgenInfo={description:"",methods:[]};Se.__docgenInfo={description:"",methods:[]};var ne="Popover",[mt]=_t(ne,[ot]),W=ot(),[Pr,_]=mt(ne),vt=e=>{const{__scopePopover:r,children:t,open:l,defaultOpen:a,onOpenChange:s,modal:c=!1}=e,d=W(r),p=o.useRef(null),[u,v]=o.useState(!1),[x,j]=It({prop:l,defaultProp:a??!1,onChange:s,caller:ne});return i.jsx(Vt,{...d,children:i.jsx(Pr,{scope:r,contentId:D(),triggerRef:p,open:x,onOpenChange:j,onOpenToggle:o.useCallback(()=>j(g=>!g),[j]),hasCustomAnchor:u,onCustomAnchorAdd:o.useCallback(()=>v(!0),[]),onCustomAnchorRemove:o.useCallback(()=>v(!1),[]),modal:c,children:t})})};vt.displayName=ne;var gt="PopoverAnchor",br=o.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,a=_(gt,t),s=W(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=a;return o.useEffect(()=>(c(),()=>d()),[c,d]),i.jsx(at,{...s,...l,ref:r})});br.displayName=gt;var ht="PopoverTrigger",xt=o.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,a=_(ht,t),s=W(t),c=nt(r,a.triggerRef),d=i.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Pt(a.open),...l,ref:c,onClick:G(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?d:i.jsx(at,{asChild:!0,...s,children:d})});xt.displayName=ht;var ke="PopoverPortal",[Sr,kr]=mt(ke,{forceMount:void 0}),wt=e=>{const{__scopePopover:r,forceMount:t,children:l,container:a}=e,s=_(ke,r);return i.jsx(Sr,{scope:r,forceMount:t,children:i.jsx(tt,{present:t||s.open,children:i.jsx(Ot,{asChild:!0,container:a,children:l})})})};wt.displayName=ke;var V="PopoverContent",yt=o.forwardRef((e,r)=>{const t=kr(V,e.__scopePopover),{forceMount:l=t.forceMount,...a}=e,s=_(V,e.__scopePopover);return i.jsx(tt,{present:l||s.open,children:s.modal?i.jsx(Nr,{...a,ref:r}):i.jsx(Er,{...a,ref:r})})});yt.displayName=V;var Rr=Ft("PopoverContent.RemoveScroll"),Nr=o.forwardRef((e,r)=>{const t=_(V,e.__scopePopover),l=o.useRef(null),a=nt(r,l),s=o.useRef(!1);return o.useEffect(()=>{const c=l.current;if(c)return Mt(c)},[]),i.jsx(Dt,{as:Rr,allowPinchZoom:!0,children:i.jsx(jt,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,c=>{var d;c.preventDefault(),s.current||(d=t.triggerRef.current)==null||d.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,p=d.button===0&&d.ctrlKey===!0,u=d.button===2||p;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:G(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Er=o.forwardRef((e,r)=>{const t=_(V,e.__scopePopover),l=o.useRef(!1),a=o.useRef(!1);return i.jsx(jt,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(l.current||(d=t.triggerRef.current)==null||d.focus(),s.preventDefault()),l.current=!1,a.current=!1},onInteractOutside:s=>{var p,u;(p=e.onInteractOutside)==null||p.call(e,s),s.defaultPrevented||(l.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),jt=o.forwardRef((e,r)=>{const{__scopePopover:t,trapFocus:l,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:v,...x}=e,j=_(V,t),g=W(t);return $t(),i.jsx(qt,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Tt,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:v,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:u,onDismiss:()=>j.onOpenChange(!1),children:i.jsx(zt,{"data-state":Pt(j.open),role:"dialog",id:j.contentId,...g,...x,ref:r,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ct="PopoverClose",Ar=o.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,a=_(Ct,t);return i.jsx(rt.button,{type:"button",...l,ref:r,onClick:G(e.onClick,()=>a.onOpenChange(!1))})});Ar.displayName=Ct;var Ir="PopoverArrow",_r=o.forwardRef((e,r)=>{const{__scopePopover:t,...l}=e,a=W(t);return i.jsx(Kt,{...a,...l,ref:r})});_r.displayName=Ir;function Pt(e){return e?"open":"closed"}var Or=vt,Mr=xt,Dr=wt,bt=yt;const Fr=Or,$r=Mr,Re=o.forwardRef(({className:e,align:r="center",sideOffset:t=4,...l},a)=>i.jsx(Dr,{children:i.jsx(bt,{ref:a,align:r,sideOffset:t,className:N("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...l})}));Re.displayName=bt.displayName;Re.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};function $({currentProject:e,projects:r,isLoading:t=!1,collapsed:l=!1,isSwitching:a=!1,onProjectSelect:s,onAddProject:c,onManageProjects:d,labels:p}){const[u,v]=o.useState(!1);if(t)return i.jsx(Gt,{className:N("w-full",l?"h-9 w-9":"h-10")});const x=g=>{if(g===(e==null?void 0:e.id)){v(!1);return}v(!1),s==null||s(g)},j=[...r].sort((g,R)=>g.favorite===R.favorite?0:g.favorite?-1:1);return i.jsxs(Fr,{open:u,onOpenChange:v,children:[i.jsx($r,{asChild:!0,children:i.jsx(kt,{variant:"outline",role:"combobox","aria-expanded":u,disabled:a,className:N("w-full justify-between transition-opacity",l?"h-9 w-9 p-0 justify-center":"px-3",a&&"opacity-70"),children:l?a?i.jsx(De,{className:"h-4 w-4 animate-spin"}):i.jsx(fe,{name:(e==null?void 0:e.name)||"",color:e==null?void 0:e.color,size:"sm"}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2 truncate",children:[a?i.jsx(De,{className:"h-4 w-4 shrink-0 animate-spin"}):i.jsx(fe,{name:(e==null?void 0:e.name)||"",color:e==null?void 0:e.color,size:"sm",className:"shrink-0"}),i.jsx("span",{className:"truncate",children:a?(p==null?void 0:p.switching)||"Switching...":(e==null?void 0:e.name)||(p==null?void 0:p.placeholder)||"Select project"})]}),i.jsx(Ut,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),i.jsx(Re,{className:"w-[200px] p-0",align:"start",children:i.jsxs(je,{children:[i.jsx(Ce,{placeholder:(p==null?void 0:p.searchPlaceholder)||"Search projects..."}),i.jsxs(Pe,{children:[i.jsx(be,{children:(p==null?void 0:p.noProject)||"No projects found"}),i.jsx(te,{heading:(p==null?void 0:p.projects)||"Projects",children:j.map(g=>{const R=(e==null?void 0:e.id)===g.id;return i.jsx(B,{onSelect:()=>x(g.id),className:N("text-sm",R&&"bg-accent"),children:i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.jsx(fe,{name:g.name,color:g.color,size:"sm",className:"shrink-0"}),i.jsx("span",{className:"truncate flex-1",children:g.name}),g.favorite&&i.jsx(Bt,{className:"h-3 w-3 shrink-0 fill-yellow-500 text-yellow-500"})]})},g.id)})}),(c||d)&&i.jsxs(i.Fragment,{children:[i.jsx(Se,{}),i.jsxs(te,{children:[c&&i.jsxs(B,{className:"cursor-pointer",onSelect:()=>{v(!1),c()},children:[i.jsx(Jt,{className:"mr-2 h-4 w-4"}),(p==null?void 0:p.createProject)||"Create Project"]}),d&&i.jsxs(B,{className:"cursor-pointer",onSelect:()=>{v(!1),d()},children:[i.jsx(Yt,{className:"mr-2 h-4 w-4"}),(p==null?void 0:p.manageProjects)||"Manage Projects"]})]})]})]})]})})]})}$.__docgenInfo={description:"",methods:[],displayName:"ProjectSwitcher",props:{currentProject:{required:!1,tsType:{name:"union",raw:"Project | null",elements:[{name:"Project"},{name:"null"}]},description:""},projects:{required:!0,tsType:{name:"Array",elements:[{name:"Project"}],raw:"Project[]"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},collapsed:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSwitching:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onProjectSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(projectId: string) => void",signature:{arguments:[{type:{name:"string"},name:"projectId"}],return:{name:"void"}}},description:""},onAddProject:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onManageProjects:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},labels:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  switching?: string;
  placeholder?: string;
  searchPlaceholder?: string;
  noProject?: string;
  projects?: string;
  createProject?: string;
  manageProjects?: string;
}`,signature:{properties:[{key:"switching",value:{name:"string",required:!1}},{key:"placeholder",value:{name:"string",required:!1}},{key:"searchPlaceholder",value:{name:"string",required:!1}},{key:"noProject",value:{name:"string",required:!1}},{key:"projects",value:{name:"string",required:!1}},{key:"createProject",value:{name:"string",required:!1}},{key:"manageProjects",value:{name:"string",required:!1}}]}},description:""}}};const tn={title:"Project/ProjectSwitcher",component:$,parameters:{layout:"centered"},tags:["autodocs"]},Te=[{id:"1",name:"LeanSpec",favorite:!0,color:"#3b82f6"},{id:"2",name:"My Project",favorite:!1},{id:"3",name:"Another Project",favorite:!1,color:"#10b981"},{id:"4",name:"Test Project",favorite:!0,color:"#f59e0b"}],E={args:{currentProject:Te[0],projects:Te,onProjectSelect:e=>console.log("Selected project:",e),onAddProject:()=>console.log("Add project clicked"),onManageProjects:()=>console.log("Manage projects clicked")},render:e=>i.jsx("div",{style:{width:"250px"},children:i.jsx($,{...e})})},Y={args:{...E.args,isLoading:!0},render:e=>i.jsx("div",{style:{width:"250px"},children:i.jsx($,{...e})})},Z={args:{...E.args,isSwitching:!0},render:e=>i.jsx("div",{style:{width:"250px"},children:i.jsx($,{...e})})},Q={args:{...E.args,collapsed:!0},render:e=>i.jsx("div",{style:{width:"60px"},children:i.jsx($,{...e})})},ee={args:{...E.args,labels:{switching:"Changing...",placeholder:"Choose a project",searchPlaceholder:"Find project...",noProject:"No projects available",projects:"All Projects",createProject:"New Project",manageProjects:"Settings"}},render:e=>i.jsx("div",{style:{width:"250px"},children:i.jsx($,{...e})})};var Le,Ve,ze;E.parameters={...E.parameters,docs:{...(Le=E.parameters)==null?void 0:Le.docs,source:{originalSource:`{
  args: {
    currentProject: mockProjects[0],
    projects: mockProjects,
    onProjectSelect: projectId => console.log('Selected project:', projectId),
    onAddProject: () => console.log('Add project clicked'),
    onManageProjects: () => console.log('Manage projects clicked')
  },
  render: args => <div style={{
    width: '250px'
  }}>
      <ProjectSwitcher {...args} />
    </div>
}`,...(ze=(Ve=E.parameters)==null?void 0:Ve.docs)==null?void 0:ze.source}}};var Ke,Ge,Be;Y.parameters={...Y.parameters,docs:{...(Ke=Y.parameters)==null?void 0:Ke.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    isLoading: true
  },
  render: args => <div style={{
    width: '250px'
  }}>
      <ProjectSwitcher {...args} />
    </div>
}`,...(Be=(Ge=Y.parameters)==null?void 0:Ge.docs)==null?void 0:Be.source}}};var He,Ue,We;Z.parameters={...Z.parameters,docs:{...(He=Z.parameters)==null?void 0:He.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    isSwitching: true
  },
  render: args => <div style={{
    width: '250px'
  }}>
      <ProjectSwitcher {...args} />
    </div>
}`,...(We=(Ue=Z.parameters)==null?void 0:Ue.docs)==null?void 0:We.source}}};var Je,Xe,Ye;Q.parameters={...Q.parameters,docs:{...(Je=Q.parameters)==null?void 0:Je.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    collapsed: true
  },
  render: args => <div style={{
    width: '60px'
  }}>
      <ProjectSwitcher {...args} />
    </div>
}`,...(Ye=(Xe=Q.parameters)==null?void 0:Xe.docs)==null?void 0:Ye.source}}};var Ze,Qe,et;ee.parameters={...ee.parameters,docs:{...(Ze=ee.parameters)==null?void 0:Ze.docs,source:{originalSource:`{
  args: {
    ...Default.args,
    labels: {
      switching: 'Changing...',
      placeholder: 'Choose a project',
      searchPlaceholder: 'Find project...',
      noProject: 'No projects available',
      projects: 'All Projects',
      createProject: 'New Project',
      manageProjects: 'Settings'
    }
  },
  render: args => <div style={{
    width: '250px'
  }}>
      <ProjectSwitcher {...args} />
    </div>
}`,...(et=(Qe=ee.parameters)==null?void 0:Qe.docs)==null?void 0:et.source}}};const rn=["Default","Loading","Switching","Collapsed","CustomLabels"];export{Q as Collapsed,ee as CustomLabels,E as Default,Y as Loading,Z as Switching,rn as __namedExportsOrder,tn as default};
