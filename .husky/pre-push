#!/bin/sh
# Run full validation before pushing

echo "ğŸ” Running TypeScript typecheck before push..."
pnpm typecheck

if [ $? -ne 0 ]; then
  echo "âŒ TypeScript typecheck failed! Fix the errors before pushing."
  exit 1
fi

echo "âœ… TypeScript checks passed!"

echo "ğŸ¦€ Running Rust clippy checks before push..."
cargo clippy --manifest-path rust/Cargo.toml -- -D warnings

if [ $? -ne 0 ]; then
  echo "âŒ Clippy checks failed! Fix the warnings before pushing."
  exit 1
fi

echo "âœ… All Rust checks passed!"
echo "ğŸ‰ All pre-push checks passed!"
