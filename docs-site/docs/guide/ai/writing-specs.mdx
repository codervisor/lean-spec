---
id: 'writing-specs'
title: 'Writing Specs with AI'
sidebar_label: 'Writing Specs with AI'
sidebar_position: 2
---
# Writing Specs with AI

> "AI can draft the structure, but humans ensure the clarity."

This guide covers how to use AI to help **write specs**, not just implement from them. AI-assisted spec authoring makes specs faster to create while maintaining LeanSpec quality standards.

## The Collaborative Model

AI-assisted spec writing is a partnership:

**Human Provides:**
- Intent and context ("Why are we doing this?")
- Constraints and trade-offs ("What limits exist?")
- Success criteria ("How do we know it's done?")
- Critical review (ensure LeanSpec principles)

**AI Provides:**
- Initial structure and draft
- Expansion of brief notes
- Examples and test cases
- Formatting and organization

**Result:** Specs are faster to create, but maintain human judgment on what matters most.

## The Five-Step Workflow

### 1. Clarify Through Conversation

Start by discussing with AI to understand the problem space.

**Example:**
```
You: We need rate limiting on our API. Users are making too many requests.

AI: What kind of limits? Per user? Per IP? Time windows?

You: Both. 100 requests per minute per user, 1000 per hour per IP.
     Track in Redis, return 429 on exceeded limits.

AI: Fixed window or sliding window for fairness?

You: Sliding window. More fair for bursts.
```

**Goal:** Through conversation, clarify requirements, constraints, and design decisions before formalizing.

### 2. Request Spec Draft

Once the approach is clear, ask AI to formalize it.

**Good prompt:**
```
Draft a LeanSpec spec for API rate limiting based on our discussion.
Focus on:
- Why we need rate limiting (prevent abuse, ensure fair usage)
- Rate limits: 100 req/min per user, 1000 req/hour per IP
- Implementation: Redis with sliding window
- Trade-offs: Added latency vs. protection

Keep it under 300 lines. Emphasize intent and rationale, not implementation details.
```

**What makes a good prompt:**
- Reference LeanSpec principles explicitly
- Emphasize "why" over "how"
- Set clear constraints (line count, focus areas)
- Include context from conversation
- Specify desired sections

### 3. Review Against First Principles

AI drafts tend toward verbosity. Your job is to edit ruthlessly.

**Check each principle:**

1. **Context Economy** - Under 400 lines? Readable in 5-10 minutes?
2. **Signal-to-Noise** - Does every sentence inform a decision?
3. **Intent Over Implementation** - Is the "why" clear? Are trade-offs explained?
4. **Bridge the Gap** - Can both humans and AI understand this?
5. **Progressive Disclosure** - Did AI over-engineer? Start simpler?

**Common AI mistakes to fix:**
- ❌ Verbose explanations → ✅ Cut to essentials
- ❌ Too much implementation detail → ✅ Focus on intent
- ❌ Missing "why" → ✅ Add rationale and trade-offs
- ❌ Obvious statements → ✅ Delete them
- ❌ Excessive examples → ✅ Keep only critical ones

### 4. Iterate Specific Sections

Don't accept the first draft. Ask AI to refine specific sections.

**Example refinements:**
```
The Overview section is too long. Condense to 3-4 sentences.
```

```
The Implementation section has too much detail. Replace with
high-level approach and key constraints only.
```

```
Add a Trade-offs section explaining why sliding window vs. fixed window.
```

**Tip:** Be specific about what needs improvement and how.

### 5. Checkpoint and Implement

Once refined, the spec becomes your contract for implementation.

```
This spec looks good. Now implement the rate limiting feature
according to this spec. Follow the constraints and approach outlined.
```

## Prompting Strategies

### For Initial Drafts

**Focus on intent:**
```
We need search functionality to help users find specs quickly.
Draft a spec focusing on WHY this matters, WHO needs it, and WHAT
success looks like. Keep implementation details minimal.
```

**Provide structure:**
```
Create a LeanSpec spec with these sections:
- Overview (problem and intent)
- Key Requirements (critical features only)
- Design (high-level approach)
- Success Criteria (how we measure done)
- Non-Goals (what we're NOT doing)

Keep total length under 250 lines.
```

**Include constraints:**
```
Draft a spec for user authentication. Constraints:
- Must support OAuth and email/password
- Budget: No paid services (use open source)
- Performance: Login must be <500ms
- Security: Follow OWASP guidelines

Emphasize trade-offs these constraints create.
```

### For Refinement

**Cut verbosity:**
```
This section is too verbose. Rewrite in half the length while
keeping all key information.
```

**Add missing context:**
```
The Design section doesn't explain WHY we chose this approach.
Add a paragraph on the trade-offs that led to this decision.
```

**Fix focus:**
```
This spec focuses too much on implementation. Rewrite to emphasize
intent and leave implementation details to the code.
```

**Improve clarity:**
```
The Success Criteria are vague. Make them specific and measurable.
For each criterion, add how we'll verify it.
```

## Best Practices

### Do's ✅

**Let AI handle structure:**
- AI is great at organizing information
- Use AI to create consistent section formatting
- Ask AI to generate initial outlines

**Provide clear constraints:**
- Specify line limits (e.g., "under 300 lines")
- Define focus areas (e.g., "emphasize trade-offs")
- Reference LeanSpec principles in prompts

**Iterate through conversation:**
- Don't accept first draft
- Ask for specific improvements
- Refine section by section

**Review critically:**
- Check against first principles
- Cut unnecessary verbosity
- Ensure "why" is captured

### Don'ts ❌

**Don't skip human review:**
- AI can miss critical context
- AI tends toward verbosity
- Human judgment ensures quality

**Don't accept implementation focus:**
- AI often drifts to "how" instead of "why"
- Redirect to intent and trade-offs
- Implementation details belong in code

**Don't let AI over-engineer:**
- Start simple, add complexity only if needed
- Progressive Disclosure applies to AI drafts too
- Cut premature abstractions

**Don't forget your audience:**
- Specs serve humans AND AI
- Ensure both can understand
- Natural language + clear structure

## Common Patterns

### Pattern: Expand Brief Notes

You have rough notes from a meeting or conversation. AI can structure them.

**Your notes:**
```
Meeting notes:
- Need caching for dashboard
- 10k users querying same data
- Response time currently 2-3 seconds
- Target: under 100ms
- Discussed Redis, decided on 5-min TTL
- Lazy-load widgets instead of blocking
```

**Prompt:**
```
These are my notes from a design discussion. Draft a LeanSpec spec
that captures the intent, requirements, and approach. Focus on why
we need this and key design decisions. Keep under 200 lines.
```

### Pattern: Checkpoint Conversation

After discussing design with AI, formalize what you agreed on.

**After lengthy conversation:**
```
We've discussed the authentication design for 20 minutes and agreed on:
- JWT tokens with refresh mechanism
- bcrypt for password hashing (12 rounds)
- Email verification required
- Rate limiting on login attempts
- Session management in Redis

Draft a spec that formalizes this design. Focus on the rationale for
each decision and key trade-offs. Under 250 lines.
```

### Pattern: Refactor Existing Spec

You have a spec but it's too long or unfocused.

**Prompt:**
```
This spec is 600 lines and violates Context Economy. Break it into:
1. Main README.md with overview and key decisions (under 300 lines)
2. IMPLEMENTATION.md with detailed phases
3. TESTING.md with test strategy

Keep the core intent in README, move details to sub-specs.
```

## When to Use AI vs. Write Yourself

**Use AI when:**
- Need to structure scattered thoughts
- Want to create initial draft quickly
- Expanding brief notes into full sections
- Generating examples or test cases
- Reformatting or reorganizing content

**Write yourself when:**
- Capturing nuanced "why" that's hard to explain
- Critical decisions needing careful wording
- Sensitive or confidential content
- Very short specs (AI overhead not worth it)
- You have strong clarity and just need to write

## Measuring Success

Your AI-assisted spec is successful if:

- ✅ It's under 400 lines (Context Economy)
- ✅ Every sentence informs a decision (Signal-to-Noise)
- ✅ The "why" is clear and compelling (Intent Over Implementation)
- ✅ Both humans and AI can understand it (Bridge the Gap)
- ✅ It starts simple and grows naturally (Progressive Disclosure)
- ✅ Implementation follows it successfully
- ✅ Team references it over time

Your AI-assisted spec has failed if:

- ❌ It's verbose and no one reads it all
- ❌ The "why" is missing or unclear
- ❌ AI misinterprets it during implementation
- ❌ It focuses on "how" instead of "why"
- ❌ It becomes outdated immediately
- ❌ Team ignores it and asks for clarification

## Next Steps

- Read [Best Practices](/docs/guide/ai/best-practices) for more AI integration tips
- Check [Examples](/docs/guide/ai/examples) for real-world workflows
- Review [Understanding LeanSpec](/docs/guide/understanding) for first principles
- See [When to Use](/docs/guide/when-to-use) for decision criteria

---

**Remember:** AI makes specs easier to create, but doesn't change when they're valuable. Use AI to draft and structure, but apply human judgment to ensure quality and clarity.
